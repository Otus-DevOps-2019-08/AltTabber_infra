# AltTabber_infra
AltTabber Infra repository
bastion_IP = 35.207.98.66
someinternalhost_IP = 10.156.0.4

## Домашнее задание №1
Был создан файл в форке репозитория и отправлен с помощью пулл реквеста к репозиторию источнику

## Домашнее задание №2
---

## Домашнее задание №3
Добавлены два ВМа с помощью Google Cloud Server: бастион с внешним выходом и внутренний хост. Цель задания возможность заходить на локальные машины через объедененный бастион. Так же было огранизованно обращение в VPN-серверу с помощью сервиса https://pritunl.com/. Документация к сервису: https://docs.pritunl.com/docs/getting-started.


#### Самостоятельное задание 
*Задание: Исследовать способ подключения к someinternalhost в одну команду из вашего рабочего устройства*

Операцию перехода с бастиона на внутрение сервера можно выполнить таким образом:
```
ssh -i ~/.ssh/appuser -A -J <ip бастиона> <ip внутри сети гугла>
```
В рамках решения используются Jump Host. Неизвестно насколько, это правильно, но сделанно именно так :)
#### Дополнительное задание
*Задание: Предложить вариант решения для подключения из консоли при помощи команды вида ssh someinternalhost из локальной консоли рабочего устройства, чтобы подключение выполнялось по алиасу someinternalhost*

В дополнительном задании я создал конфиг файл ~/.ssh/config в котором была описана следующая конфигурация
```
Host bastion
	HostName <ip бастиона>
	User alttabber
	IdentityFile ~/.ssh/appuser.key

Host someinternalhost
	HostName <ip внутри сети гугла>
	User alttabber
	IdentityFile ~/.ssh/appuser.key
	ProxyCommand ssh -q -W %h:%p bastion
```
